2023-10-23 21:23:31.860 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-10-23 21:23:31.866 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 8.0.0.Final
2023-10-23 21:23:31.904 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-10-23 21:23:31.911 INFO  top.lxyi.share.gateway.config.GatewayApplication  :51   [32m                  [0;39m Starting GatewayApplication using Java 17.0.6 with PID 31404 (E:\2242-wei\share-api\share-gateway\target\classes started by 17161 in E:\2242-wei\share-api)
2023-10-23 21:23:31.912 INFO  top.lxyi.share.gateway.config.GatewayApplication  :630  [32m                  [0;39m No active profile set, falling back to 1 default profile: "default"
2023-10-23 21:23:31.950 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-23 21:23:31.950 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :250  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-23 21:23:32.470 INFO  o.springframework.cloud.context.scope.GenericScope:282  [32m                  [0;39m BeanFactory id=0b5d99e1-ad8c-307d-89c1-1d91fd8f7508
2023-10-23 21:23:32.506 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-10-23 21:23:32.506 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-10-23 21:23:32.507 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:409  [32m                  [0;39m Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-10-23 21:23:34.173 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [After]
2023-10-23 21:23:34.173 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Before]
2023-10-23 21:23:34.173 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Between]
2023-10-23 21:23:34.173 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Cookie]
2023-10-23 21:23:34.173 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Header]
2023-10-23 21:23:34.173 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Host]
2023-10-23 21:23:34.174 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Method]
2023-10-23 21:23:34.174 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Path]
2023-10-23 21:23:34.174 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Query]
2023-10-23 21:23:34.174 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [ReadBody]
2023-10-23 21:23:34.174 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [RemoteAddr]
2023-10-23 21:23:34.174 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2023-10-23 21:23:34.174 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [Weight]
2023-10-23 21:23:34.174 INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator   :88   [32m                  [0;39m Loaded RoutePredicateFactory [CloudFoundryRouteService]
2023-10-23 21:23:34.315 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :59   [32m                  [0;39m LiveReload server is running on port 35729
2023-10-23 21:23:34.331 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:81   [32m                  [0;39m Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-10-23 21:23:34.368 WARN  com.alibaba.nacos.client.logging.NacosLogging     :64   [32m                  [0;39m Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2023-10-23 21:23:34.368 INFO  com.alibaba.nacos.client.naming                   :62   [32m                  [0;39m initializer namespace from ans.namespace attribute : null
2023-10-23 21:23:34.368 INFO  com.alibaba.nacos.client.naming                   :66   [32m                  [0;39m initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2023-10-23 21:23:34.369 INFO  com.alibaba.nacos.client.naming                   :73   [32m                  [0;39m initializer namespace from namespace attribute :null
2023-10-23 21:23:34.398 INFO  com.alibaba.nacos.client.utils.ParamUtil          :87   [32m                  [0;39m [settings] [req-serv] nacos-server port:8848
2023-10-23 21:23:34.399 INFO  com.alibaba.nacos.client.utils.ParamUtil          :98   [32m                  [0;39m [settings] [http-client] connect timeout:1000
2023-10-23 21:23:34.400 INFO  com.alibaba.nacos.client.utils.ParamUtil          :105  [32m                  [0;39m PER_TASK_CONFIG_SIZE: 3000.0
2023-10-23 21:23:34.405 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-10-23 21:23:34.405 INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager   :56   [32m                  [0;39m [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-10-23 21:23:34.408 INFO  c.a.n.client.auth.ram.identify.CredentialWatcher  :165  [32m                  [0;39m null No credential found
2023-10-23 21:23:34.415 INFO  com.alibaba.nacos.common.remote.client            :108  [32m                  [0;39m [RpcClientFactory] create a new rpc client of 4fe3256a-5209-49fa-9d2c-8428961d89b6
2023-10-23 21:23:34.429 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-10-23 21:23:34.429 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-10-23 21:23:34.430 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-10-23 21:23:34.431 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2023-10-23 21:23:34.459 INFO  c.a.nacos.common.remote.client.grpc.GrpcClient    :182  [32m                  [0;39m grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2023-10-23 21:23:35.284 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Success to connect to server [localhost:8848] on start up, connectionId = 1698067415126_127.0.0.1_54948
2023-10-23 21:23:35.287 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Notify connected event to listeners.
2023-10-23 21:23:35.288 INFO  com.alibaba.nacos.client.naming                   :78   [32m                  [0;39m Grpc connection connect
2023-10-23 21:23:35.288 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-10-23 21:23:35.288 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$944/0x00000008012c1f00
2023-10-23 21:23:35.289 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:gateway-service, group:myGroup, clusters:DEFAULT 
2023-10-23 21:23:35.306 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(0) service: myGroup@@gateway-service@@DEFAULT -> []
2023-10-23 21:23:35.312 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(0) service: myGroup@@gateway-service@@DEFAULT -> []
2023-10-23 21:23:35.462 INFO  o.s.boot.web.embedded.netty.NettyWebServer        :111  [32m                  [0;39m Netty started on port 8000
2023-10-23 21:23:35.847 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Receive server push request, request = NotifySubscriberRequest, requestId = 3
2023-10-23 21:23:35.847 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Ack server push request, request = NotifySubscriberRequest, requestId = 3
2023-10-23 21:23:35.906 INFO  com.alibaba.nacos.client.naming                   :121  [32m                  [0;39m [REGISTER-SERVICE] dev registering service gateway-service with instance Instance{instanceId='null', ip='10.22.242.102', port=8000, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.heart.beat.timeout=15000, preserved.register.source=SPRING_CLOUD, IPv6=null, myData=abc, preserved.heart.beat.interval=5000}}
2023-10-23 21:23:35.914 INFO  c.a.cloud.nacos.registry.NacosServiceRegistry     :76   [32m                  [0;39m nacos registry, myGroup gateway-service 10.22.242.102:8000 register finished
2023-10-23 21:23:35.958 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:content-service, group:myGroup, clusters: 
2023-10-23 21:23:35.958 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:content-service, group:myGroup, clusters: 
2023-10-23 21:23:35.958 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:user-service, group:myGroup, clusters: 
2023-10-23 21:23:35.958 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:gateway-service, group:myGroup, clusters: 
2023-10-23 21:23:35.958 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:user-service, group:myGroup, clusters: 
2023-10-23 21:23:35.958 INFO  com.alibaba.nacos.client.naming                   :167  [32m                  [0;39m [SUBSCRIBE-SERVICE] service:gateway-service, group:myGroup, clusters: 
2023-10-23 21:23:35.968 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: myGroup@@user-service -> [{"ip":"10.22.242.102","port":8001,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"myGroup@@user-service","metadata":{"preserved.heart.beat.timeout":"15000","preserved.register.source":"SPRING_CLOUD","myData":"abc","preserved.heart.beat.interval":"5000"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-10-23 21:23:35.968 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: myGroup@@content-service -> [{"ip":"10.22.242.102","port":8002,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"myGroup@@content-service","metadata":{"preserved.heart.beat.timeout":"15000","preserved.register.source":"SPRING_CLOUD","myData":"abc","preserved.heart.beat.interval":"5000"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-10-23 21:23:35.968 INFO  com.alibaba.nacos.client.naming                   :184  [32m                  [0;39m init new ips(1) service: myGroup@@gateway-service -> [{"ip":"10.22.242.102","port":8000,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"myGroup@@gateway-service","metadata":{"preserved.heart.beat.timeout":"15000","preserved.register.source":"SPRING_CLOUD","myData":"abc","preserved.heart.beat.interval":"5000"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-10-23 21:23:35.968 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: myGroup@@user-service -> [{"ip":"10.22.242.102","port":8001,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"myGroup@@user-service","metadata":{"preserved.heart.beat.timeout":"15000","preserved.register.source":"SPRING_CLOUD","myData":"abc","preserved.heart.beat.interval":"5000"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-10-23 21:23:35.968 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: myGroup@@content-service -> [{"ip":"10.22.242.102","port":8002,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"myGroup@@content-service","metadata":{"preserved.heart.beat.timeout":"15000","preserved.register.source":"SPRING_CLOUD","myData":"abc","preserved.heart.beat.interval":"5000"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-10-23 21:23:35.968 INFO  com.alibaba.nacos.client.naming                   :169  [32m                  [0;39m current ips:(1) service: myGroup@@gateway-service -> [{"ip":"10.22.242.102","port":8000,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"myGroup@@gateway-service","metadata":{"preserved.heart.beat.timeout":"15000","preserved.register.source":"SPRING_CLOUD","myData":"abc","preserved.heart.beat.interval":"5000"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-10-23 21:23:35.997 INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher:66   [32m                  [0;39m Start nacos heartBeat task scheduler.
2023-10-23 21:23:36.013 INFO  top.lxyi.share.gateway.config.GatewayApplication  :57   [32m                  [0;39m Started GatewayApplication in 4.851 seconds (process running for 5.397)
2023-10-23 21:23:36.016 INFO  top.lxyi.share.gateway.config.GatewayApplication  :16   [32m                  [0;39m ç½‘å…³å¯åŠ¨æˆåŠŸï¼ï¼
2023-10-23 21:23:36.017 INFO  top.lxyi.share.gateway.config.GatewayApplication  :17   [32m                  [0;39m ç½‘å…³åœ°å€ï¼šhttp://127.0.0.1:8000
2023-10-23 21:23:36.500 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Receive server push request, request = NotifySubscriberRequest, requestId = 4
2023-10-23 21:23:36.501 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Ack server push request, request = NotifySubscriberRequest, requestId = 4
2023-10-23 21:23:36.504 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Receive server push request, request = NotifySubscriberRequest, requestId = 6
2023-10-23 21:23:36.504 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Ack server push request, request = NotifySubscriberRequest, requestId = 6
2023-10-23 21:23:36.507 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Receive server push request, request = NotifySubscriberRequest, requestId = 5
2023-10-23 21:23:36.508 INFO  com.alibaba.nacos.common.remote.client            :63   [32m                  [0;39m [4fe3256a-5209-49fa-9d2c-8428961d89b6] Ack server push request, request = NotifySubscriberRequest, requestId = 5
2023-10-23 21:23:51.691 INFO  top.lxyi.share.gateway.config.LoginUserFilter     :29   [32m                  [0;39m ä¸éœ€è¦ç™»å½•éªŒè¯ï¼š/user-service/user/login
2023-10-23 21:24:39.240 INFO  top.lxyi.share.gateway.config.LoginUserFilter     :32   [32m                  [0;39m éœ€è¦ç™»å½•éªŒè¯ï¼š/content-service/share/my-contribute
2023-10-23 21:24:39.241 INFO  top.lxyi.share.gateway.config.LoginUserFilter     :36   [32m                  [0;39m ä¼šå‘˜ç™»å½•éªŒè¯å¼€å§‹ï¼Œtoken:null
2023-10-23 21:24:39.241 INFO  top.lxyi.share.gateway.config.LoginUserFilter     :38   [32m                  [0;39m tokenä¸ºç©ºï¼Œè¯·æ±‚è¢«æ‹¦æˆª
2023-10-23 21:24:41.288 INFO  top.lxyi.share.gateway.config.LoginUserFilter     :29   [32m                  [0;39m ä¸éœ€è¦ç™»å½•éªŒè¯ï¼š/user-service/user/login
